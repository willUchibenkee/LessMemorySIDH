//efp2test.c(Montgomery)

#include<stdio.h>
#include<sys/time.h>
#include<stdlib.h>
#include"efp2.c"

#define Px "00003CCFC5E1F050030363E6920A0F7A4C6C71E63DE63A0E6475AF621995705F7C84500CB2BB61E950E19EAB8661D25C4A50ED279646CB48 0001AD1C1CAE7840EDDA6D8A924520F60E573D3B9DFAC6D189941CB22326D284A8816CC4249410FE80D68047D823C97D705246F869E3EA50"
//Pax0 00003CCFC5E1F050030363E6920A0F7A4C6C71E63DE63A0E6475AF621995705F7C84500CB2BB61E950E19EAB8661D25C4A50ED279646CB48
//Pax1 0001AD1C1CAE7840EDDA6D8A924520F60E573D3B9DFAC6D189941CB22326D284A8816CC4249410FE80D68047D823C97D705246F869E3EA50
#define Py "0001AB066B84949582E3F66688452B9255E72A017C45B148D719D9A63CDB7BE6F48C812E33B68161D5AB3A0A36906F04A6A6957E6F4FB2E0 0000FD87F67EA576CE97FF65BF9F4F7688C4C752DCE9F8BD2B36AD66E04249AAF8337C01E6E4E1A844267BA1A1887B433729E1DD90C7DD2F"
//Pay0 0001AB066B84949582E3F66688452B9255E72A017C45B148D719D9A63CDB7BE6F48C812E33B68161D5AB3A0A36906F04A6A6957E6F4FB2E0
//Pay1 0000FD87F67EA576CE97FF65BF9F4F7688C4C752DCE9F8BD2B36AD66E04249AAF8337C01E6E4E1A844267BA1A1887B433729E1DD90C7DD2F

int main(void){
    //定義とかもろもろ
        ec2 a, ans;
        int pp, p1;
        Fp nbai, ichi;
        Fp2 uhen, sahen;
        Fp2 at, bt, work;
        Fp2 one;

        Fp_set_str(&ichi, "1");
        Fp2_set_str(&one,"1 0");
        Efp2_set_A();
        Fp2_set_str(&a.x, Px);
        Fp2_set_str(&a.y, Py);
 
        Fp_add(&nbai, p, &ichi);
        printf("A: X Y");
        PrintEC2(&a);
        if(Efp2_checkans(&a,&at) == 0){
            printf("rp ok\n");
        }else{
            printf("rp ng\n");
        }

        Efp2_mgecSCM(&ans, &a, &nbai, &at);
        
        if(ans.inf == 1){
            printf("ans = inf\n");
        }else{
            PrintEC2(&ans);
        }

        return 0;
}